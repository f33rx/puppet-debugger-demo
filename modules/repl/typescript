Script started on Sun Oct 23 13:56:18 2016
[1m[7m%[27m[1m[0m                                                                                                                                                                                                   [0m[27m[24m[J[1mMacBook-Pro-5~/github/repl[0m([01;35mmaster[00m‚Üë1[00m|[31m‚óè1[00m[34m‚úö4[00m‚Ä¶[00m[00m) % [K[?2004hccat manifests[1m/[0m[0m/
[Jinit.pp       repl_test.pp[A[0m[27m[24m[0m[27m[24m[45Ccat manifests/[K[0m[27m[24mrepl_test.pp[1m [0m[0m [?2004l
[Jclass repl::repl_test(
  $var1 = 'value1',
  $var2 = ['value1', 'value2', 'value3']
)
{
  # dummy resources so we can show list of resources
  file{'/tmp/test.txt': ensure => present, mode => '0755'}
  service{'httpd': ensure => running}

  # how to find values with an empheral scope
  $var2.each | String $item | {
    file{"/tmp/${item}": ensure => present}
    start_repl({'run_once' => false})
  }
  start_repl({'run_once' => false})
  if $var1 == 'value1' {
    start_repl({'run_once' => false})
  }
}[1m[7m%[27m[1m[0m                                                                                                                                                                                                   [0m[27m[24m[J[1mMacBook-Pro-5~/github/repl[0m([01;35mmaster[00m‚Üë1[00m|[31m‚óè1[00m[34m‚úö4[00m‚Ä¶[00m[00m) % [K[?2004hppupp  p  bbundle exec rspec spec[1m/[0m[0m/classes[1m/[0m[0m/repl_test_spec.rb[1m [0m[0m [?2004l

repl::repl_test
Ruby Version: 2.3.1
Puppet Version: 4.7.0
Puppet Repl Version: 0.3.3
Created by: NWOps <corey@nwops.io>
Type "exit", "functions", "vars", "krt", "whereami", "facts", "resources", "classes",
     "play", "classification", "reset", or "help" for more information.

          8:   service{'httpd': ensure => running}
          9: 
         10:   # how to find values with an empheral scope
         11:   $var2.each | String $item | {
         12:     file{"/tmp/${item}": ensure => present}
     [36m => 13:     start_repl({'run_once' => false})[0m
         14:   }
         15:   start_repl({'run_once' => false})
         16:   if $var1 == 'value1' {
         17:     start_repl({'run_once' => false})
         18:   }
1:>> $item
 => [0;33m"value1"[0m
2:>> exit
          8:   service{'httpd': ensure => running}
          9: 
         10:   # how to find values with an empheral scope
         11:   $var2.each | String $item | {
         12:     file{"/tmp/${item}": ensure => present}
     [36m => 13:     start_repl({'run_once' => false})[0m
         14:   }
         15:   start_repl({'run_once' => false})
         16:   if $var1 == 'value1' {
         17:     start_repl({'run_once' => false})
         18:   }
1:>> $item
 => [0;33m"value2"[0m
2:>> exit
          8:   service{'httpd': ensure => running}
          9: 
         10:   # how to find values with an empheral scope
         11:   $var2.each | String $item | {
         12:     file{"/tmp/${item}": ensure => present}
     [36m => 13:     start_repl({'run_once' => false})[0m
         14:   }
         15:   start_repl({'run_once' => false})
         16:   if $var1 == 'value1' {
         17:     start_repl({'run_once' => false})
         18:   }
1:>> $item
 => [0;33m"value3"[0m
2:>> exit
         10:   # how to find values with an empheral scope
         11:   $var2.each | String $item | {
         12:     file{"/tmp/${item}": ensure => present}
         13:     start_repl({'run_once' => false})
         14:   }
     [36m => 15:   start_repl({'run_once' => false})[0m
         16:   if $var1 == 'value1' {
         17:     start_repl({'run_once' => false})
         18:   }
         19: }
1:>> $item
2:>> exit
         12:     file{"/tmp/${item}": ensure => present}
         13:     start_repl({'run_once' => false})
         14:   }
         15:   start_repl({'run_once' => false})
         16:   if $var1 == 'value1' {
     [36m => 17:     start_repl({'run_once' => false})[0m
         18:   }
         19: }
1:>> $var1
 => [0;33m"value1"[0m
2:>> exit
  should contain File[/tmp/test.txt]

Finished in 38.1 seconds (files took 1.7 seconds to load)
1 example, 0 failures

[1m[7m%[27m[1m[0m                                                                                                                                                                                                   [0m[27m[24m[J[1mMacBook-Pro-5~/github/repl[0m([01;35mmaster[00m‚Üë1[00m|[31m‚óè1[00m[34m‚úö4[00m‚Ä¶[00m[00m) % [K[?2004heexit[?2004l

Script done on Sun Oct 23 13:57:39 2016
